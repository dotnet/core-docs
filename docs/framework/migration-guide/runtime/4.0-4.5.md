---
title: "Runtime Changes for Migration from .NET Framework 4.0 to 4.5 | Microsoft Docs"
ms.custom: ""
ms.date: "05/01/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: b08ddbc7-c33c-444c-9d2a-f2e9e7ae7692
caps.latest.revision: 1
author: "conniey"
ms.author: "conniey"
manager: "wpickett"
---

# Runtime Changes for Migration from .NET Framework 4.0 to 4.5

[!include[introduction](./introduction.md)]

If you are migrating from the .NET Framework 4.0 to 4.5, review the following topics for application compatibility issues that may affect your app:

## ASP.NET

[!include[GridViews with AllowCustomPaging set to true may fire the PageIndexChanging event when leaving the final page of the view](./gridviews_with_allowcustompaging_set_to_true_may_fire_the_pageindexchanging_event_when_leaving_the_final_page_of_the_view.md)]

[!include[HttpRequest.ContentEncoding property prohibits UTF7](./httprequestcontentencoding_property_prohibits_utf7.md)]

[!include[HttpUtility.JavaScriptStringEncode escapes ampersand](./httputilityjavascriptstringencode_escapes_ampersand.md)]

[!include[IPad should not be used in custom capabilities file because it is now a browser capability](./ipad_should_not_be_used_in_custom_capabilities_file_because_it_is_now_a_browser_capability.md)]

[!include[Page.LoadComplete event no longer causes System.Web.UI.WebControls.EntityDataSource control to invoke data binding](./pageloadcomplete_event_no_longer_causes_systemwebuiwebcontrolsentitydatasource_control_to_invoke_data_binding.md)]

[!include[Profiling ASP.Net MVC4 apps can lead to Fatal Execution Engine Error](./profiling_aspnet_mvc4_apps_can_lead_to_fatal_execution_engine_error.md)]

[!include[Sharing session state with Asp.Net StateServer requires all servers in the web farm to use the same .NET Framework version](./sharing_session_state_with_aspnet_stateserver_requires_all_servers_in_the_web_farm_to_use_the_same_net_framework_version.md)]

[!include[WebUtility.HtmlDecode no longer decodes invalid input sequences](./webutilityhtmldecode_no_longer_decodes_invalid_input_sequences.md)]

## Core

[!include[Assemblies compiled with Regex.CompileToAssembly breaks between 4.0 and 4.5](./assemblies_compiled_with_regexcompiletoassembly_breaks_between_40_and_45.md)]

[!include[BlockingCollection&lt;T&gt;.TryTakeFromAny does not throw anymore](./blockingcollectionttrytakefromany_does_not_throw_anymore.md)]

[!include[Change in behavior for Task.WaitAll methods with time-out arguments](./change_in_behavior_for_taskwaitall_methods_with_time-out_arguments.md)]

[!include[Compiler support for type forwarding when multi-targeting mscorlib](./compiler_support_for_type_forwarding_when_multi-targeting_mscorlib.md)]

[!include[ConcurrentQueue&lt;T&gt;.TryPeek can return an erroneous null via its out parameter](./concurrentqueuettrypeek_can_return_an_erroneous_null_via_its_out_parameter.md)]

[!include[ETW EventListeners do not capture events from providers with explicit keywords (like the TPL provider)](./etw_eventlisteners_do_not_capture_events_from_providers_with_explicit_keywords_like_the_tpl_provider.md)]

[!include[Exceptions during unobserved processing in System.Threading.Tasks.Task no longer propagate on finalizer thread](./exceptions_during_unobserved_processing_in_systemthreadingtaskstask_no_longer_propagate_on_finalizer_thread.md)]

[!include[List.Sort algorithm changed](./listsort_algorithm_changed.md)]

[!include[Missing Target Framework Moniker results in 4.0 behavior](./missing_target_framework_moniker_results_in_40_behavior.md)]

[!include[Some .NET APIs cause first chance (handled) EntryPointNotFoundExceptions](./some_net_apis_cause_first_chance_handled_entrypointnotfoundexceptions.md)]

[!include[System.Threading.Tasks.Task no longer throw ObjectDisposedException after object is disposed](./systemthreadingtaskstask_no_longer_throw_objectdisposedexception_after_object_is_disposed.md)]

[!include[System.Uri escaping now supports RFC 3986](./systemuri_escaping_now_supports_rfc_3986.md)]

## Data

[!include[Sql_variant data uses sql_variant collation rather than database collation](./sql_variant_data_uses_sql_variant_collation_rather_than_database_collation.md)]

[!include[SqlBulkCopy uses destination column encoding for strings](./sqlbulkcopy_uses_destination_column_encoding_for_strings.md)]

[!include[SqlConnection can no longer connect to SQL Server 1997 or databases using the VIA adapter](./sqlconnection_can_no_longer_connect_to_sql_server_1997_or_databases_using_the_via_adapter.md)]

[!include[SqlConnection.Open fails on Windows 7 with non-IFS Winsock BSP or LSP present](./sqlconnectionopen_fails_on_windows_7_with_non-ifs_winsock_bsp_or_lsp_present.md)]

## Debugger

[!include[Null coalescer values are not visible in debugger until one step later](./null_coalescer_values_are_not_visible_in_debugger_until_one_step_later.md)]

## Entity Framework

[!include[Change in behavior in Data Definition Language (DDL) APIs](./change_in_behavior_in_data_definition_language_ddl_apis.md)]

[!include[Different exception handling for ObjectContext.CreateDatabase and DbProviderServices.CreateDatabase methods](./different_exception_handling_for_objectcontextcreatedatabase_and_dbproviderservicescreatedatabase_methods.md)]

[!include[EntityFramework 6.0 loads very slowly in apps launched from Visual Studio](./entityframework_60_loads_very_slowly_in_apps_launched_from_visual_studio.md)]

[!include[Log file name created by the ObjectContext.CreateDatabase method has changed to match SQL Server specifications](./log_file_name_created_by_the_objectcontextcreatedatabase_method_has_changed_to_match_sql_server_specifications.md)]

[!include[ObjectContext.Translate and ObjectContext.ExecuteStoreQuery now support enum type](./objectcontexttranslate_and_objectcontextexecutestorequery_now_support_enum_type.md)]

## LINQ

[!include[Enumerable.Empty&lt;TResult&gt; always returns cached instance](./enumerableemptytresult_always_returns_cached_instance.md)]

## Managed Extensibility Framework (MEF)

[!include[MEF catalogs implement IEnumerable and therefore can no longer be used to create a serializer](./mef_catalogs_implement_ienumerable_and_therefore_can_no_longer_be_used_to_create_a_serializer.md)]

## Networking

[!include[System.Net.PeerToPeer.Collaboration unavailable on Windows 8](./systemnetpeertopeercollaboration_unavailable_on_windows_8.md)]

## Serialization

[!include[BinaryFormatter can fail to find type from LoadFrom context](./binaryformatter_can_fail_to_find_type_from_loadfrom_context.md)]

[!include[SoapFormatter cannot deserialize Hashtable and similar ordered collection objects](./soapformatter_cannot_deserialize_hashtable_and_similar_ordered_collection_objects.md)]

[!include[XmlSerializer fails while serializing a type that hides an accessible member with an inaccessible one](./xmlserializer_fails_while_serializing_a_type_that_hides_an_accessible_member_with_an_inaccessible_one.md)]

## Web Applications

[!include[Managed browser hosting controls from the .NET Framework 1.1 and 2.0 are blocked](./managed_browser_hosting_controls_from_the_net_framework_11_and_20_are_blocked.md)]

## Windows Communication Foundation (WCF)

[!include[Error codes for maxRequestLength or maxReceivedMessageSize are different](./error_codes_for_maxrequestlength_or_maxreceivedmessagesize_are_different.md)]

[!include[System.ServiceModel.Web.WebServiceHost object no longer adds a default endpoint](./systemservicemodelwebwebservicehost_object_no_longer_adds_a_default_endpoint.md)]

[!include[The Replace method in OData URLs is disabled by default](./the_replace_method_in_odata_urls_is_disabled_by_default.md)]

## Windows Forms

[!include[PreviewLostKeyboardFocus is called repeatedly if its handler shows a Windows Forms message box](./previewlostkeyboardfocus_is_called_repeatedly_if_its_handler_shows_a_windows_forms_message_box.md)]

[!include[WinForm's CheckForOverflowUnderflow property is now true for System.Drawing](./winforms_checkforoverflowunderflow_property_is_now_true_for_systemdrawing.md)]

## Windows Presentation Foundation (WPF)

[!include[Accessing a WPF DataGrid's selected items from a handler of the DataGrid's UnloadingRow event can cause a NullReferenceException](./accessing_a_wpf_datagrids_selected_items_from_a_handler_of_the_datagrids_unloadingrow_event_can_cause_a_nullreferenceexception.md)]

[!include[Calling DataGrid.CommitEdit from a CellEditEnding handler drops focus](./calling_datagridcommitedit_from_a_celleditending_handler_drops_focus.md)]

[!include[Calling Items.Refresh on a WPF ListBox, ListView, or DataGrid with items selected can cause duplicate items to appear in the element](./calling_itemsrefresh_on_a_wpf_listbox_listview_or_datagrid_with_items_selected_can_cause_duplicate_items_to_appear_in_the_element.md)]

[!include[FlowDocument may show an extra line of text](./flowdocument_may_show_an_extra_line_of_text.md)]

[!include[GlyphRun.ComputeInkBoundingBox() and FormattedText.Extent return different values beginning in .NET 4.5](./glyphruncomputeinkboundingbox_and_formattedtextextent_return_different_values_beginning_in_net_45.md)]

[!include[Intermittently unable to scroll to bottom item in ItemsControls (like ListBox and DataGrid) when using custom DataTemplates](./intermittently_unable_to_scroll_to_bottom_item_in_itemscontrols_like_listbox_and_datagrid_when_using_custom_datatemplates.md)]

[!include[Items.Clear does not remove duplicates from SelectedItems](./itemsclear_does_not_remove_duplicates_from_selecteditems.md)]

[!include[ListBoxItem IsSelected binding issue with ObservableCollection&lt;T&gt;.Move](./listboxitem_isselected_binding_issue_with_observablecollectiontmove.md)]

[!include[New enum values in WPF's PageRangeSelection](./new_enum_values_in_wpfs_pagerangeselection.md)]

[!include[PreviewLostKeyboardFocus is called repeatedly if its handler shows a Windows Forms message box](./previewlostkeyboardfocus_is_called_repeatedly_if_its_handler_shows_a_windows_forms_message_box.md)]

[!include[Right clicking on a WPF DataGrid row header changes the DataGrid selection](./right_clicking_on_a_wpf_datagrid_row_header_changes_the_datagrid_selection.md)]

[!include[Scrolling a WPF TreeView or grouped ListBox in a VirtualizingStackPanel can cause a hang](./scrolling_a_wpf_treeview_or_grouped_listbox_in_a_virtualizingstackpanel_can_cause_a_hang.md)]

[!include[WPF DataTemplate elements are now visible to UIA](./wpf_datatemplate_elements_are_now_visible_to_uia.md)]

[!include[WPF DispatcherSynchronizationContext.CreateCopy now returns a new copy instead of the current instance](./wpf_dispatchersynchronizationcontextcreatecopy_now_returns_a_new_copy_instead_of_the_current_instance.md)]

[!include[WPF TextBox defaults to undo limit of 100](./wpf_textbox_defaults_to_undo_limit_of_100.md)]

[!include[WPF TextBox selected text appears a different color when the text box is inactive](./wpf_textbox_selected_text_appears_a_different_color_when_the_text_box_is_inactive.md)]

[!include[WPF TreeViewItem must be used within a TreeView](./wpf_treeviewitem_must_be_used_within_a_treeview.md)]

## Windows Workflow Foundation (WF)

[!include[System.Activities is now APTCA](./systemactivities_is_now_aptca.md)]

[!include[WF serializes Expressions.Literal&lt;T&gt; DateTimes differently now (breaks custom XAML parsers)](./wf_serializes_expressionsliteralt_datetimes_differently_now_breaks_custom_xaml_parsers.md)]

## XML, XSLT

[!include[XmlSchemaException now sets line positions properly](./xmlschemaexception_now_sets_line_positions_properly.md)]

[!include[XmlTextReader DTD entity expansion is limited to 10,000,000 characters](./xmltextreader_dtd_entity_expansion_is_limited_to_10000000_characters.md)]

[!include[XSLT forward compat now works](./xslt_forward_compat_now_works.md)]

[!include[XSLT style sheet exception message changed](./xslt_style_sheet_exception_message_changed.md)]

