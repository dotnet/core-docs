---
title: "Runtime Changes for Migration from .NET Framework 4.0 to 4.7 | Microsoft Docs"
ms.custom: ""
ms.date: "05/01/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 649a5f0e-2522-457d-824f-9d25776cfe86
caps.latest.revision: 1
author: "conniey"
ms.author: "conniey"
manager: "wpickett"
---

# Runtime Changes for Migration from .NET Framework 4.0 to 4.7

[!include[introduction](./introduction.md)]

If you are migrating from the .NET Framework 4.0 to 4.7, review the following topics for application compatibility issues that may affect your app:

## ADO.NET

[!include[ADO.NET now attempts to automatically reconnect broken SQL connections](./adonet_now_attempts_to_automatically_reconnect_broken_sql_connections.md)]

## ASP.NET

[!include[ASP.NET MVC now escapes spaces in strings passed in via route parameters](./aspnet_mvc_now_escapes_spaces_in_strings_passed_in_via_route_parameters.md)]

[!include[HttpRequest.ContentEncoding property prohibits UTF7](./httprequestcontentencoding_property_prohibits_utf7.md)]

[!include[HttpUtility.JavaScriptStringEncode escapes ampersand](./httputilityjavascriptstringencode_escapes_ampersand.md)]

[!include[IPad should not be used in custom capabilities file because it is now a browser capability](./ipad_should_not_be_used_in_custom_capabilities_file_because_it_is_now_a_browser_capability.md)]

[!include[No longer able to set EnableViewStateMac to false](./no_longer_able_to_set_enableviewstatemac_to_false.md)]

[!include[Page.LoadComplete event no longer causes System.Web.UI.WebControls.EntityDataSource control to invoke data binding](./pageloadcomplete_event_no_longer_causes_systemwebuiwebcontrolsentitydatasource_control_to_invoke_data_binding.md)]

[!include[Sharing session state with Asp.Net StateServer requires all servers in the web farm to use the same .NET Framework version](./sharing_session_state_with_aspnet_stateserver_requires_all_servers_in_the_web_farm_to_use_the_same_net_framework_version.md)]

[!include[WebUtility.HtmlDecode no longer decodes invalid input sequences](./webutilityhtmldecode_no_longer_decodes_invalid_input_sequences.md)]

## Core

[!include[AesCrytpServiceProvider decryptor provides a reusable transform](./aescrytpserviceprovider_decryptor_provides_a_reusable_transform.md)]

[!include[AppDomainSetup.DynamicBase is no longer randomized by UseRandomizedStringHashAlgorithm](./appdomainsetupdynamicbase_is_no_longer_randomized_by_userandomizedstringhashalgorithm.md)]

[!include[Assemblies compiled with Regex.CompileToAssembly breaks between 4.0 and 4.5](./assemblies_compiled_with_regexcompiletoassembly_breaks_between_40_and_45.md)]

[!include[BlockingCollection&lt;T&gt;.TryTakeFromAny does not throw anymore](./blockingcollectionttrytakefromany_does_not_throw_anymore.md)]

[!include[Calling Attribute.GetCustomAttributes on an indexer property no longer throws AmbiguousMatchException if the ambiguity can be resolved by index's type](./calling_attributegetcustomattributes_on_an_indexer_property_no_longer_throws_ambiguousmatchexception_if_the_ambiguity_can_be_resolved_by_indexs_type.md)]

[!include[Change in behavior for Task.WaitAll methods with time-out arguments](./change_in_behavior_for_taskwaitall_methods_with_time-out_arguments.md)]

[!include[Compiler support for type forwarding when multi-targeting mscorlib](./compiler_support_for_type_forwarding_when_multi-targeting_mscorlib.md)]

[!include[Deserialization of objects across appdomains can fail](./deserialization_of_objects_across_appdomains_can_fail.md)]

[!include[EventListener truncates strings with embedded nulls](./eventlistener_truncates_strings_with_embedded_nulls.md)]

[!include[EventSource.WriteEvent impls must pass WriteEvent the same parameters that it received (plus ID)](./eventsourcewriteevent_impls_must_pass_writeevent_the_same_parameters_that_it_received_plus_id.md)]

[!include[Exceptions during unobserved processing in System.Threading.Tasks.Task no longer propagate on finalizer thread](./exceptions_during_unobserved_processing_in_systemthreadingtaskstask_no_longer_propagate_on_finalizer_thread.md)]

[!include[List.Sort algorithm changed](./listsort_algorithm_changed.md)]

[!include[Marshal.SizeOf and Marshal.PtrToStructure overloads break dynamic code](./marshalsizeof_and_marshalptrtostructure_overloads_break_dynamic_code.md)]

[!include[Missing Target Framework Moniker results in 4.0 behavior](./missing_target_framework_moniker_results_in_40_behavior.md)]

[!include[Persian calendar now uses the Hijri solar algorithm](./persian_calendar_now_uses_the_hijri_solar_algorithm.md)]

[!include[Reflection objects can no longer be passed from managed code to out-of-process DCOM clients](./reflection_objects_can_no_longer_be_passed_from_managed_code_to_out-of-process_dcom_clients.md)]

[!include[System.Threading.Tasks.Task no longer throw ObjectDisposedException after object is disposed](./systemthreadingtaskstask_no_longer_throw_objectdisposedexception_after_object_is_disposed.md)]

[!include[System.Uri escaping now supports RFC 3986](./systemuri_escaping_now_supports_rfc_3986.md)]

[!include[TargetFrameworkName for default app domain no longer defaults to null if not set](./targetframeworkname_for_default_app_domain_no_longer_defaults_to_null_if_not_set.md)]

[!include[WinRT stream adapters no long call FlushAsync automatically on close](./winrt_stream_adapters_no_long_call_flushasync_automatically_on_close.md)]

[!include[X509Certificate2.ToString(bool) does not throw now when .NET cannot handle the certificate](./x509certificate2tostringbool_does_not_throw_now_when_net_cannot_handle_the_certificate.md)]

## Data

[!include[ADO.NET now attempts to automatically reconnect broken SQL connections](./adonet_now_attempts_to_automatically_reconnect_broken_sql_connections.md)]

[!include[Connection pool blocking period for Azure SQL databases is removed](./connection_pool_blocking_period_for_azure_sql_databases_is_removed.md)]

[!include[Sql_variant data uses sql_variant collation rather than database collation](./sql_variant_data_uses_sql_variant_collation_rather_than_database_collation.md)]

[!include[SqlBulkCopy uses destination column encoding for strings](./sqlbulkcopy_uses_destination_column_encoding_for_strings.md)]

[!include[SqlConnection can no longer connect to SQL Server 1997 or databases using the VIA adapter](./sqlconnection_can_no_longer_connect_to_sql_server_1997_or_databases_using_the_via_adapter.md)]

## Entity Framework

[!include[Change in behavior in Data Definition Language (DDL) APIs](./change_in_behavior_in_data_definition_language_ddl_apis.md)]

[!include[Different exception handling for ObjectContext.CreateDatabase and DbProviderServices.CreateDatabase methods](./different_exception_handling_for_objectcontextcreatedatabase_and_dbproviderservicescreatedatabase_methods.md)]

[!include[EF no longer throws for QueryViews with specific characteristics](./ef_no_longer_throws_for_queryviews_with_specific_characteristics.md)]

[!include[EntityFramework 6.0 loads very slowly in apps launched from Visual Studio](./entityframework_60_loads_very_slowly_in_apps_launched_from_visual_studio.md)]

[!include[Log file name created by the ObjectContext.CreateDatabase method has changed to match SQL Server specifications](./log_file_name_created_by_the_objectcontextcreatedatabase_method_has_changed_to_match_sql_server_specifications.md)]

[!include[ObjectContext.Translate and ObjectContext.ExecuteStoreQuery now support enum type](./objectcontexttranslate_and_objectcontextexecutestorequery_now_support_enum_type.md)]

[!include[Opt-in break to revert from different 4.5 SQL generation to simpler 4.0 SQL generation](./opt-in_break_to_revert_from_different_45_sql_generation_to_simpler_40_sql_generation.md)]

## Globalization

[!include[Unicode standard version 8.0 categories now supported](./unicode_standard_version_80_categories_now_supported.md)]

## LINQ

[!include[Enumerable.Empty&lt;TResult&gt; always returns cached instance](./enumerableemptytresult_always_returns_cached_instance.md)]

## Managed Extensibility Framework (MEF)

[!include[MEF catalogs implement IEnumerable and therefore can no longer be used to create a serializer](./mef_catalogs_implement_ienumerable_and_therefore_can_no_longer_be_used_to_create_a_serializer.md)]

## Networking

[!include[ContentDisposition DateTimes returns slightly different string](./contentdisposition_datetimes_returns_slightly_different_string.md)]

[!include[System.Net.PeerToPeer.Collaboration unavailable on Windows 8](./systemnetpeertopeercollaboration_unavailable_on_windows_8.md)]

## Security

[!include[RSACng.VerifyHash now returns False for any verification failure](./rsacngverifyhash_now_returns_false_for_any_verification_failure.md)]

[!include[SignedXml and EncryptedXml Breaking Changes](./signedxml_and_encryptedxml_breaking_changes.md)]

## Serialization

[!include[BinaryFormatter can fail to find type from LoadFrom context](./binaryformatter_can_fail_to_find_type_from_loadfrom_context.md)]

[!include[Exception message has changed for failed DataContract serialization in case of an unknown type](./exception_message_has_changed_for_failed_datacontract_serialization_in_case_of_an_unknown_type.md)]

[!include[NetDataContractSerializer fails to deserialize a ConcurrentDictionary serialized with a different .NET version](./netdatacontractserializer_fails_to_deserialize_a_concurrentdictionary_serialized_with_a_different_net_version.md)]

[!include[SoapFormatter cannot deserialize Hashtable and similar ordered collection objects](./soapformatter_cannot_deserialize_hashtable_and_similar_ordered_collection_objects.md)]

[!include[XmlSerializer fails while serializing a type that hides an accessible member with an inaccessible one](./xmlserializer_fails_while_serializing_a_type_that_hides_an_accessible_member_with_an_inaccessible_one.md)]

## Setup and Deployment

[!include[The .NET Framework 4.6 does not use a 4.5.x.x version when registering itself in the registry](./the_net_framework_46_does_not_use_a_45xx_version_when_registering_itself_in_the_registry.md)]

## Web Applications

[!include[Managed browser hosting controls from the .NET Framework 1.1 and 2.0 are blocked](./managed_browser_hosting_controls_from_the_net_framework_11_and_20_are_blocked.md)]

## Windows Communication Foundation (WCF)

[!include[Error codes for maxRequestLength or maxReceivedMessageSize are different](./error_codes_for_maxrequestlength_or_maxreceivedmessagesize_are_different.md)]

[!include[MinFreeMemoryPercentageToActiveService is now respected](./minfreememorypercentagetoactiveservice_is_now_respected.md)]

[!include[Remove Ssl3 from the WCF TransportDefaults](./remove_ssl3_from_the_wcf_transportdefaults.md)]

[!include[System.ServiceModel.Web.WebServiceHost object no longer adds a default endpoint](./systemservicemodelwebwebservicehost_object_no_longer_adds_a_default_endpoint.md)]

[!include[The Replace method in OData URLs is disabled by default](./the_replace_method_in_odata_urls_is_disabled_by_default.md)]

[!include[WCF binding with the TransportWithMessageCredential security mode](./wcf_binding_with_the_transportwithmessagecredential_security_mode.md)]

## Windows Forms

[!include[PreviewLostKeyboardFocus is called repeatedly if its handler shows a Windows Forms message box](./previewlostkeyboardfocus_is_called_repeatedly_if_its_handler_shows_a_windows_forms_message_box.md)]

[!include[WinForm's CheckForOverflowUnderflow property is now true for System.Drawing](./winforms_checkforoverflowunderflow_property_is_now_true_for_systemdrawing.md)]

## Windows Presentation Foundation (WPF)

[!include[Changing the IsEnabled property of the parent of a TextBlock control affects any child controls](./changing_the_isenabled_property_of_the_parent_of_a_textblock_control_affects_any_child_controls.md)]

[!include[FlowDocument may show an extra line of text](./flowdocument_may_show_an_extra_line_of_text.md)]

[!include[GlyphRun.ComputeInkBoundingBox() and FormattedText.Extent return different values beginning in .NET 4.5](./glyphruncomputeinkboundingbox_and_formattedtextextent_return_different_values_beginning_in_net_45.md)]

[!include[Horizontal scrolling and virtualization](./horizontal_scrolling_and_virtualization.md)]

[!include[New enum values in WPF's PageRangeSelection](./new_enum_values_in_wpfs_pagerangeselection.md)]

[!include[PreviewLostKeyboardFocus is called repeatedly if its handler shows a Windows Forms message box](./previewlostkeyboardfocus_is_called_repeatedly_if_its_handler_shows_a_windows_forms_message_box.md)]

[!include[WPF DataTemplate elements are now visible to UIA](./wpf_datatemplate_elements_are_now_visible_to_uia.md)]

[!include[WPF DispatcherSynchronizationContext.CreateCopy now returns a new copy instead of the current instance](./wpf_dispatchersynchronizationcontextcreatecopy_now_returns_a_new_copy_instead_of_the_current_instance.md)]

[!include[WPF spell checking in text-enabled controls will not work in Windows 10 for languages not in the OS's input language list](./wpf_spell_checking_in_text-enabled_controls_will_not_work_in_windows_10_for_languages_not_in_the_oss_input_language_list.md)]

[!include[WPF TextBox defaults to undo limit of 100](./wpf_textbox_defaults_to_undo_limit_of_100.md)]

[!include[WPF TextBox selected text appears a different color when the text box is inactive](./wpf_textbox_selected_text_appears_a_different_color_when_the_text_box_is_inactive.md)]

[!include[WPF TreeViewItem must be used within a TreeView](./wpf_treeviewitem_must_be_used_within_a_treeview.md)]

[!include[WPF windows are rendered without clipping when extending outside a single monitor](./wpf_windows_are_rendered_without_clipping_when_extending_outside_a_single_monitor.md)]

## Windows Workflow Foundation (WF)

[!include[System.Activities is now APTCA](./systemactivities_is_now_aptca.md)]

[!include[WF serializes Expressions.Literal&lt;T&gt; DateTimes differently now (breaks custom XAML parsers)](./wf_serializes_expressionsliteralt_datetimes_differently_now_breaks_custom_xaml_parsers.md)]

[!include[Workflow now throws original exception instead of NullReferenceException in some cases](./workflow_now_throws_original_exception_instead_of_nullreferenceexception_in_some_cases.md)]

[!include[Workflow SQL persistence adds primary key clusters and disallows null values in some columns](./workflow_sql_persistence_adds_primary_key_clusters_and_disallows_null_values_in_some_columns.md)]

## XML, XSLT

[!include[XmlSchemaException now sets line positions properly](./xmlschemaexception_now_sets_line_positions_properly.md)]

[!include[XmlTextReader DTD entity expansion is limited to 10,000,000 characters](./xmltextreader_dtd_entity_expansion_is_limited_to_10000000_characters.md)]

[!include[XSLT forward compat now works](./xslt_forward_compat_now_works.md)]

[!include[XSLT style sheet exception message changed](./xslt_style_sheet_exception_message_changed.md)]

