---
title: "Retargeting Changes for Migration from .NET Framework 4.0 to 4.7 | Microsoft Docs"
ms.custom: ""
ms.date: "05/01/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: d5a1d766-b247-48e0-aac7-d6ab0eb2590c
caps.latest.revision: 1
author: "conniey"
ms.author: "conniey"
manager: "wpickett"
---

# Retargeting Changes for Migration from .NET Framework 4.0 to 4.7

[!include[introduction](./introduction.md)]

If you are migrating from the .NET Framework 4.0 to 4.7, review the following topics for application compatibility issues that may affect your app:

## ADO.NET

[!include[DbParameter.Precision and DbParameter.Scale are now public virtual members](./dbparameterprecision_and_dbparameterscale_are_now_public_virtual_members.md)]

## ASP.NET

[!include[HtmlTextWriter does not render `<br/>` element correctly](./htmltextwriter_does_not_render_br__element_correctly.md)]

[!include[MachineKey.Encode and MachineKey.Decode methods are now obsolete](./machinekeyencode_and_machinekeydecode_methods_are_now_obsolete.md)]

[!include[Multi-line ASP.Net TextBox spacing changed when using AntiXSSEncoder](./multi-line_aspnet_textbox_spacing_changed_when_using_antixssencoder.md)]

[!include[Throttle concurrent requests per session](./throttle_concurrent_requests_per_session.md)]

[!include[WebUtility.HtmlEncode and WebUtility.HtmlDecode round-trip BMP correctly](./webutilityhtmlencode_and_webutilityhtmldecode_round-trip_bmp_correctly.md)]

## C\#

[!include[Foreach iterator variable is now scoped within the iteration, so closure capturing semantics are different (in C#5)](./foreach_iterator_variable_is_now_scoped_within_the_iteration_so_closure_capturing_semantics_are_different_in_c5.md)]

## ClickOnce

[!include[ClickOnce supports SHA-256 on 4.0-targeted apps](./clickonce_supports_sha-256_on_40-targeted_apps.md)]

## Core

[!include[Calls to ClaimsIdentity constructors](./calls_to_claimsidentity_constructors.md)]

[!include[Changes in path normalization](./changes_in_path_normalization.md)]

[!include[Foreach iterator variable is now scoped within the iteration, so closure capturing semantics are different (in C#5)](./foreach_iterator_variable_is_now_scoped_within_the_iteration_so_closure_capturing_semantics_are_different_in_c5.md)]

[!include[IAsyncResult.CompletedSynchronously property must be correct for the resulting task to complete](./iasyncresultcompletedsynchronously_property_must_be_correct_for_the_resulting_task_to_complete.md)]

[!include[List&lt;T&gt;.ForEach can throw exception when modifying list item](./listtforeach_can_throw_exception_when_modifying_list_item.md)]

[!include[Long path support](./long_path_support.md)]

[!include[ObsoleteAttribute exports as both ObsoleteAttribute and DeprecatedAttribute in WinMD scenarios](./obsoleteattribute_exports_as_both_obsoleteattribute_and_deprecatedattribute_in_winmd_scenarios.md)]

[!include[Path colon checks are stricter](./path_colon_checks_are_stricter.md)]

[!include[System.Uri parsing adheres to RFC 3987](./systemuri_parsing_adheres_to_rfc_3987.md)]

[!include[System.Uri.IsWellFormedUriString method returns false for relative URIs with a colon char in first segment](./systemuriiswellformeduristring_method_returns_false_for_relative_uris_with_a_colon_char_in_first_segment.md)]

## Entity Framework

[!include[EF version must match NetFX version](./ef_version_must_match_netfx_version.md)]

## JIT

[!include[IL ret not allowed in a try region](./il_ret_not_allowed_in_a_try_region.md)]

## MSBuild

[!include[ResolveAssemblyReference task now warns of dependencies with the wrong architecture](./resolveassemblyreference_task_now_warns_of_dependencies_with_the_wrong_architecture.md)]

## Networking

[!include[Only Tls 1.0, 1.1 and 1.2 protocols supported in System.Net.ServicePointManager and System.Net.Security.SslStream](./only_tls_10_11_and_12_protocols_supported_in_systemnetservicepointmanager_and_systemnetsecuritysslstream.md)]

## Networking, Security

[!include[SslStream supports TLS Alerts](./sslstream_supports_tls_alerts.md)]

## Security

[!include[CspParameters.ParentWindowHandle now expects HWND value](./cspparametersparentwindowhandle_now_expects_hwnd_value.md)]

[!include[RSACng now correctly loads RSA keys of non-standard key size](./rsacng_now_correctly_loads_rsa_keys_of_non-standard_key_size.md)]

## Visual Basic .NET

[!include[VB.NET no longer supports partial namespace qualification for System.Windows APIs](./vbnet_no_longer_supports_partial_namespace_qualification_for_systemwindows_apis.md)]

## Windows Communication Foundation (WCF)

[!include[Calling CreateDefaultAuthorizationContext with a null argument has changed](./calling_createdefaultauthorizationcontext_with_a_null_argument_has_changed.md)]

[!include[Serialization of control characters with DataContractJsonSerializer is now compatible with ECMAScript V6 and V8](./serialization_of_control_characters_with_datacontractjsonserializer_is_now_compatible_with_ecmascript_v6_and_v8.md)]

[!include[WCF message security now is able to use TLS1.1 and TLS1.2](./wcf_message_security_now_is_able_to_use_tls11_and_tls12.md)]

[!include[WCF transport security supports certificates stored using CNG](./wcf_transport_security_supports_certificates_stored_using_cng.md)]

[!include[X509CertificateClaimSet.FindClaims Considers All claimTypes](./x509certificateclaimsetfindclaims_considers_all_claimtypes.md)]

## Windows Forms

[!include[Application.FilterMessage no longer throws for re-entrant implementations of IMessageFilter.PreFilterMessage](./applicationfiltermessage_no_longer_throws_for_re-entrant_implementations_of_imessagefilterprefiltermessage.md)]

[!include[DataObject.GetData now retrieves data as UTF-8](./dataobjectgetdata_now_retrieves_data_as_utf-8.md)]

[!include[EncoderParameter ctor is obsolete](./encoderparameter_ctor_is_obsolete.md)]

[!include[Incorrect implementation of MemberDescriptor.Equals](./incorrect_implementation_of_memberdescriptorequals.md)]

## Windows Presentation Foundation (WPF)

[!include[Two-way data-binding to a property with a non-public setter is not supported](./two-way_data-binding_to_a_property_with_a_non-public_setter_is_not_supported.md)]

[!include[WPF Grid allocation of space to star-columns](./wpf_grid_allocation_of_space_to_star-columns.md)]

[!include[WPF layout rounding of margins has changed](./wpf_layout_rounding_of_margins_has_changed.md)]

[!include[NullReferenceException in exception handling code from ImageSourceConverter.ConvertFrom](./nullreferenceexception_in_exception_handling_code_from_imagesourceconverterconvertfrom.md)]

[!include[WPF Pointer-Based Touch Stack](./wpf_pointer-based_touch_stack.md)]

[!include[WPF Printing Stack Update](./wpf_printing_stack_update.md)]

[!include[WPF TextBox.Text can be out-of-sync with databinding](./wpf_textboxtext_can_be_out-of-sync_with_databinding.md)]

## Windows Workflow Foundation (WF)

[!include[New (ambiguous) Dispatcher.Invoke overloads could result in different behavior](./new_ambiguous_dispatcherinvoke_overloads_could_result_in_different_behavior.md)]

[!include[Some WorkFlow drag and drop APIs are obsolete](./some_workflow_drag_and_drop_apis_are_obsolete.md)]

[!include[WorkFlow 3.0 types are obsolete](./workflow_30_types_are_obsolete.md)]

[!include[Workflow checksums changed from MD5 to SHA1](./workflow_checksums_changed_from_md5_to_sha1.md)]

## XML, XSLT

[!include[XML schema validation is stricter](./xml_schema_validation_is_stricter.md)]

[!include[XmlWriter throws on invalid surrogate pairs](./xmlwriter_throws_on_invalid_surrogate_pairs.md)]

[!include[XSD Schema validation now correctly detects violations of unique constraints if compound keys are used and one key is empty](./xsd_schema_validation_now_correctly_detects_violations_of_unique_constraints_if_compound_keys_are_used_and_one_key_is_empty.md)]

