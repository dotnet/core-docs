---
title: Configure code analysis rules
ms.date: 08/20/2020
ms.topic: conceptual
---
# Configure code analysis rules

You configure the severity of .NET code analysis rules by using an [EditorConfig file](https://editorconfig.org/). Add an entry for each rule you want to configure under the corresponding file extension, for example, `*.cs`. The syntax for the EditorConfig file is as follows:

`dotnet_diagnostic.<rule ID>.severity = <severity>`

The following example demonstrates setting the severity for rule `CA1822` to `error` for C# files.

```ini
[*.cs]
dotnet_diagnostic.CA1822.severity = error
```

## Rule severities

The following table shows the different rule severities.

| Severity | Build-time behavior |
|-|-|
| `error` | Violations appear as build *errors* and cause builds to fail.|
| `warning` | Violations appear as build *warnings* but do not cause builds to fail (unless you have an option set to treat warnings as errors). |
| `suggestion` | Violations appear as build *messages*. |
| `silent` | Violations aren't visible to the user. |
| `none` | Rule is suppressed completely. |
| `default` | The default severity of the rule is used. |

## Configure multiple rules

You can set the severity for a specific category of analyzer rules or for all analyzer rules with a single entry in an EditorConfig file.

- Set rule severity for a category of analyzer rules:

  `dotnet_analyzer_diagnostic.category-<rule category>.severity = <severity>`

- Set rule severity for all analyzer rules:

  `dotnet_analyzer_diagnostic.severity = <severity>`

## Precedence

If you have multiple entries that are applicable to the same rule ID, precedence is chosen in the following order:

- Severity entry for an individual rule by ID takes precedence over severity entry for a category.
- Severity entry for a category takes precedence over severity entry for all analyzer rules.

Consider the following EditorConfig example, where [CA1822](https://docs.microsoft.com/visualstudio/code-quality/ca1822) has the category "Performance":

```ini
[*.cs]
dotnet_diagnostic.CA1822.severity = error
dotnet_analyzer_diagnostic.category-performance.severity = warning
dotnet_analyzer_diagnostic.severity = suggestion
```

In the preceding example, all three entries are applicable to CA1822. However, using the specified precedence rules, the first rule ID-based severity entry wins over the next entries. In this example, CA1822 will have an effective severity of `error`. All other rules within the "Performance" category will have a severity of `warning`.

## Exclude generated code

.NET code analyzers report violations in all the source files in a project. However, these violations are not useful on generated code files, such as designer-generated code files and temporary source files generated by the build system. Users cannot manually edit these files to fix violations.

By default, the driver that executes code analyzers treats files with certain file extensions or auto-generated file headers as *generated code files* and excludes them from analysis. For example, a file name ending with `.designer.cs` or `.generated.cs` is considered generated code. However, these heuristics might not be able to identify all the custom generated code files in your project.

You can configure specific files and folders to be treated as generated code in an [EditorConfig file](https://editorconfig.org/) by adding the `generated_code = true | false` entry for specific files and folders. For example, to treat all files whose name ends with `.MyGenerated.cs` as generated code, the entry would be as follows:

```ini
[*.MyGenerated.cs]
generated_code = true
```

## Suppress violations

To suppress a rule violation in an EditorConfig file, set the severity to `none`. For example:

`dotnet_diagnostic.CA1822.severity = none`

Visual Studio provides additional ways to suppress rule violations. For more information, see [](/visualstudio/code-quality/use-roslyn-analyzers#suppress-violations).
